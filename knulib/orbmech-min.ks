{function Z{local A is ship:obt:argumentOfPeriapsis. if ship:obt:inclination<0 set A to A+180. return mod(360-A,360).}function Y{local A is ship:obt:argumentOfPeriapsis. if ship:obt:inclination<0 set A to A+180. return mod(540-A,360).}function X{parameter A.local B is ship:obt:eccentricity. local D is ARCCOS((B+COS(A))/(1+B*COS(A))).if A>180 set D to 360-D. return D.}function W{parameter A.return A-ship:obt:eccentricity*SIN(A)*CONSTANT:RadToDeg.}function U{parameter A.local B is ship:obt:period. local D is(W(X(A))-W(X(ship:obt:trueAnomaly)))/(360/B).if D<0 set D to D+B. return D.}export(Lex("version","1.0.0","Van",Z@,"Vdn",Y@,"E",X@,"M",W@,"Rt",{parameter A.local B is ship:obt:eccentricity. return (ship:obt:semiMajorAxis*(1-B^2))/(1+B*COS(A)).},"eta",U@,"etaAN",{return U(Z).},"etaDN",{return U(Y).})).}